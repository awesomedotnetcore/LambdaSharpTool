Module: TestModule
Description: LambdaSharp CloudFormation Test
Entries:

  # Plain Input Parameters
  - Parameter: InputParameter
    Section: Plain Input Parameters
    Description: required input parameter

  - Parameter: InputParameterWithDefault
    Section: Plain Input Parameters
    Description: input parameter with a default value
    Default: a default value

  - Parameter: SecretInputParameter
    Type: Secret
    Section: Plain Input Parameters
    Description: encrypted input parameter

  # Cross-module references
  - Import: OtherModule
    Description: Cross-Module References
    Entries:

      - Parameter: ExportValue
        Description: cross-module import reference

      - Parameter: ExportSecret
        Description: cross-module import reference
        Type: Secret
        Scope: "*"

      - Parameter: ExportResource
        Scope: "*"
        Type: AWS::DynamoDB::Table
        Allow: ReadOnly

  # Resource Input Parameters
  - Parameter: ResourceInputParameter
    Section: Resource Input Parameters
    Scope: "*"
    Type: AWS::S3::Bucket
    Allow: ReadOnly

  - Parameter: ResourceInputParameterOrCreate
    Section: Resource Input Parameters
    Scope: "*"
    Default: ""
    Type: AWS::SNS::Topic
    Allow: Publish

  - Variable: Input
    Scope: "*"
    Value: !Ref InputParameter

  - Variable: InputWithDefault
    Scope: "*"
    Value: !Ref InputParameterWithDefault

  - Variable: SecretInput
    Scope: "*"
    Value: !Ref SecretInputParameter

  - Variable: ImportedInput
    Scope: "*"
    Value: !Ref OtherModule::ExportValue

  - Variable: HiddenImportParameter
    Scope: "*"
    Value: !Ref LambdaSharp::LoggingStreamArn

  - Function: Function
    Description: My function
    Memory: 128
    Timeout: 30

